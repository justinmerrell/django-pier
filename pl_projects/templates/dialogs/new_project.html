<div class="mdc-dialog" id="new_project">
    <div class="mdc-dialog__container">
        <div class="mdc-dialog__surface" role="alertdialog" aria-modal="true" aria-labelledby="my-dialog-title" aria-describedby="my-dialog-content">

            <h2 class="mdc-dialog__title" id="my-dialog-title">
                New Project
            </h2>

            <div class="mdc-dialog__content" id="my-dialog-content">

                <!-- ------------------------ START - Project Name ------------------------- -->
                <label class="mdc-text-field mdc-text-field--outlined">
                    <span class="mdc-notched-outline">
                        <span class="mdc-notched-outline__leading"></span>
                        <span class="mdc-notched-outline__notch">
                            <span class="mdc-floating-label" id="my-label-id">Project Name</span>
                        </span>
                        <span class="mdc-notched-outline__trailing"></span>
                    </span>
                    <input type="text" class="mdc-text-field__input" aria-labelledby="my-label-id" id="project_name">
                </label>
                <!-- ------------------------- END - Project Name -------------------------- -->

                <!-- --------------------- START - Project Description --------------------- -->
                <label class="mdc-text-field mdc-text-field--outlined mdc-text-field--textarea mdc-text-field--no-label">
                    <span class="mdc-notched-outline">
                        <span class="mdc-notched-outline__leading"></span>
                        <span class="mdc-notched-outline__trailing"></span>
                    </span>
                    <span class="mdc-text-field__resizer">
                        <textarea class="mdc-text-field__input" rows="8" cols="40" aria-label="Label" id="project_description">Project Description</textarea>
                    </span>
                </label>
                <!-- ---------------------- END - Project Description ---------------------- -->

                <!-- ----------------------- START - Project Purpose ----------------------- -->
                <div class="mdc-select mdc-select--filled demo-width-class">
                    <div class="mdc-select__anchor" role="button" aria-haspopup="listbox" aria-expanded="false" aria-labelledby="demo-label demo-selected-text">
                        <span class="mdc-select__ripple"></span>
                        <span id="demo-label" class="mdc-floating-label">Project Purpose</span>
                        <span class="mdc-select__selected-text-container">
                            <span id="demo-selected-text" class="mdc-select__selected-text"></span>
                        </span>
                        <span class="mdc-select__dropdown-icon">
                            <svg class="mdc-select__dropdown-icon-graphic" viewBox="7 10 10 5" focusable="false">
                                <polygon class="mdc-select__dropdown-icon-inactive" stroke="none" fill-rule="evenodd" points="7 10 12 15 17 10">
                                </polygon>
                                <polygon class="mdc-select__dropdown-icon-active" stroke="none" fill-rule="evenodd" points="7 15 12 10 17 15">
                                </polygon>
                            </svg>
                        </span>
                        <span class="mdc-line-ripple"></span>
                    </div>

                    <div class="mdc-select__menu mdc-menu mdc-menu-surface mdc-menu-surface--fullwidth">
                        <ul class="mdc-list" role="listbox" aria-label="Food picker listbox">
                            <li class="mdc-list-item mdc-list-item--selected" aria-selected="true" data-value="" role="option">
                                <span class="mdc-list-item__ripple"></span>
                            </li>
                            <li class="mdc-list-item" aria-selected="false" data-value="Just trying out DigitalOcean" role="option">
                                <span class="mdc-list-item__ripple"></span>
                                <span class="mdc-list-item__text">
                                    Just trying out DigitalOcean
                                </span>
                            </li>
                            <li class="mdc-list-item mdc-list-item--disabled" aria-selected="false" data-value="Class project / Educational purposes" aria-disabled="true" role="option">
                                <span class="mdc-list-item__ripple"></span>
                                <span class="mdc-list-item__text">
                                    Class project / Educational purposes
                                </span>
                            </li>
                            <li class="mdc-list-item" aria-selected="false" data-value="Website or blog" role="option">
                                <span class="mdc-list-item__ripple"></span>
                                <span class="mdc-list-item__text">
                                    Website or blog
                                </span>
                            </li>
                            <li class="mdc-list-item" aria-selected="false" data-value="Web Application" role="option">
                                <span class="mdc-list-item__ripple"></span>
                                <span class="mdc-list-item__text">
                                    Web Application
                                </span>
                            </li>
                            <li class="mdc-list-item" aria-selected="false" data-value="Service or API" role="option">
                                <span class="mdc-list-item__ripple"></span>
                                <span class="mdc-list-item__text">
                                    Service or API
                                </span>
                            </li>
                            <li class="mdc-list-item" aria-selected="false" data-value="Mobile Application" role="option">
                                <span class="mdc-list-item__ripple"></span>
                                <span class="mdc-list-item__text">
                                    Mobile Application
                                </span>
                            </li>
                            <li class="mdc-list-item" aria-selected="false" data-value="Machine learning / AI / Data processing" role="option">
                                <span class="mdc-list-item__ripple"></span>
                                <span class="mdc-list-item__text">
                                    Machine learning / AI / Data processing
                                </span>
                            </li>
                            <li class="mdc-list-item" aria-selected="false" data-value="IoT" role="option">
                                <span class="mdc-list-item__ripple"></span>
                                <span class="mdc-list-item__text">
                                    IoT
                                </span>
                            </li>
                            <li class="mdc-list-item" aria-selected="false" data-value="Operational / Developer tooling" role="option">
                                <span class="mdc-list-item__ripple"></span>
                                <span class="mdc-list-item__text">
                                    Operational / Developer tooling
                                </span>
                            </li>
                        </ul>
                    </div>
                </div>
                <!-- ------------------------ END - Project Purpose ------------------------ -->

                <!-- --------------------- START - Project Environment --------------------- -->
                <div class="mdc-select mdc-select--filled demo-width-class">
                    <div class="mdc-select__anchor" role="button" aria-haspopup="listbox" aria-expanded="false" aria-labelledby="demo-label demo-selected-text">
                        <span class="mdc-select__ripple"></span>
                        <span id="demo-label" class="mdc-floating-label">Project Environment</span>
                        <span class="mdc-select__selected-text-container">
                            <span id="demo-selected-text" class="mdc-select__selected-text"></span>
                        </span>
                        <span class="mdc-select__dropdown-icon">
                            <svg class="mdc-select__dropdown-icon-graphic" viewBox="7 10 10 5" focusable="false">
                                <polygon class="mdc-select__dropdown-icon-inactive" stroke="none" fill-rule="evenodd" points="7 10 12 15 17 10">
                                </polygon>
                                <polygon class="mdc-select__dropdown-icon-active" stroke="none" fill-rule="evenodd" points="7 15 12 10 17 15">
                                </polygon>
                            </svg>
                        </span>
                        <span class="mdc-line-ripple"></span>
                    </div>

                    <div class="mdc-select__menu mdc-menu mdc-menu-surface mdc-menu-surface--fullwidth">
                        <ul class="mdc-list" role="listbox" aria-label="Food picker listbox">
                            <li class="mdc-list-item mdc-list-item--selected" aria-selected="true" data-value="" role="option">
                                <span class="mdc-list-item__ripple"></span>
                            </li>
                            <li class="mdc-list-item" aria-selected="false" data-value="grains" role="option">
                                <span class="mdc-list-item__ripple"></span>
                                <span class="mdc-list-item__text">
                                    Development
                                </span>
                            </li>
                            <li class="mdc-list-item mdc-list-item--disabled" aria-selected="false" data-value="vegetables" aria-disabled="true" role="option">
                                <span class="mdc-list-item__ripple"></span>
                                <span class="mdc-list-item__text">
                                    Staging
                                </span>
                            </li>
                            <li class="mdc-list-item" aria-selected="false" data-value="fruit" role="option">
                                <span class="mdc-list-item__ripple"></span>
                                <span class="mdc-list-item__text">
                                    Production
                                </span>
                            </li>
                        </ul>
                    </div>
                </div>
                <!-- ---------------------- END - Project Environment ---------------------- -->

            </div>

            <div class="mdc-dialog__actions">
                <button type="button" class="mdc-button mdc-dialog__button" data-mdc-dialog-action="cancel">
                    <div class="mdc-button__ripple"></div>
                    <span class="mdc-button__label">Cancel</span>
                </button>
                <button type="button" class="mdc-button mdc-dialog__button" onclick="NewProject();">
                    <div class="mdc-button__ripple"></div>
                    <span class="mdc-button__label">Create</span>
                </button>
            </div>

        </div>
    </div>
    <div class="mdc-dialog__scrim"></div>
</div>

<script>
    const NewProjectDialog = new mdc.dialog.MDCDialog(document.getElementById('new_project'));
    const select = new mdc.select.MDCSelect(document.querySelector('.mdc-select'));

    function NewProject() {
        var formData = new FormData();
        var xhttp = new XMLHttpRequest();
        var url = "/new/project";

        formData.append("name", document.getElementById("project_name").value);
        formData.append("description", document.getElementById("project_description").value);
        formData.append("purpose", "Web Application");
        formData.append("environment", "Development");

        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                console.log(this.responseText);
                window.location.href = "/projects";
            }
        };

        xhttp.open('POST', url, true);
        //xhttp.setRequestHeader("X-CSRFToken", csrftoken)
        xhttp.send(formData);
    }
</script>
